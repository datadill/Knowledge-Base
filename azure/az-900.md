# AZ-900

Source: [https://www.youtube.com/watch?v=tQp1YkB2Tgs](https://www.youtube.com/watch?v=tQp1YkB2Tgs)

Capital Expenditure vs Operational Expenditure

* on-prem you pay for everything upfront, but in the cloud you pay for capacity based on what you use

IaaS = Full access to OS, but removes networking, compute, storage, etc

PaaS = Unlike IaaS, with PaaS you are only responsible for your app and data

SaaS = Everything is provided



Regions

* Each region (e.g. east-us, west-us) will have multiple physical buildings that are relatively close together, but have separate cooling/networking/power/etc (Availability Zone)
  * For each subscription, you will have 3 availability zones, but if you have a second subscription then you might have 3 different availability zones (AKA 3 different buildings within the same region)
  * Zone redundant means that the service spans the availability zones. Some services are done automatically for you with a simple checkbox while other services have to be pinned to each individual zones manually (e.g. a VM has to be created and applied to each AZ manually)
* Close to customers, regulatory reasons, disaster recovery from natural disasters are all reasons for having multiple regions

Azure AD

* Cloud IDP (Identity Provider) contains users, groups, devices, applications, etc
* OIDC, SAML, WSFED, OAUTH2
* Authentication (OIDC, SAML, WSFED or **MFA** which involves any **2** of the previous) means proving who I am via something I know like a password/pin or something I have like a token/cellphone or something I am like a biometric
* Authorization (RBAC: Role based access control) is what scope of permissions you fall into once authenticated. This involves a certain level of permissions at a particular scope (owner, reader, contributor, etc)
  * Policies are guardrails assigning what a user is allowed to do, but can also be used for auditing purposes
* A lot of companies will already have an on-prem AD, which can be synced to azure with AAD Connect, which then enables SSO (seamless sign-on) allowing the user to seamlessly access Azure resources once connected on-prem
* Management Groups can be used to further control access
  * RBAC, Policy, and budget can be applied to each management group, which can filter down to a subscription
* A subscription is essentially a billing boundary
  * Once again, RBAC, Policy and budget can be applied to a subscription
* Resources get created in a resource group, which is nested inside a subscription (note: RGs can **not** be nested)&#x20;
  * Once again, RBAC, Policy and budget can be applied to a resource group
  * Resource groups do not limit connectivity
  * RGs should have a common lifecycle so that everything is created and destroyed as a group
* Azure Resource Manager (ARM)
  * Used to simplify the provisioning of resources. The portal, mobile app, AZ CLI, and PoshAZ module all use ARM
    * John Savill says that the portal is good for looking at what's available, but for provisioning actual resources it should be avoided because it is subject to change
    * ARM JSON templates are declarative/idempotent where you declare the end state and make provisioning significantly easier
      * Terraform is a 3rd party product that allows you to more easily create ARM templates
  * Resource Locks can prevent a user from deleting a resource
  * Tags can be applied in a key:value format, which is essentially just metadata
    * Tags do NOT get inherited
  * Blueprint
    * Comprised of artifcats (policies, ARM template, RGs, and roles) allow for reusability and consistency&#x20;

Resources

* VMs have memory, vcpus, network, IOps
  * SKUs are like pre-packaged VMs that are setup with similar ratios
    * "Memory optimized" or "general purpose"
  * VM Scale Set
    * Pick a certain template for the disk, a certain configuration, and assign the auto scale values, which creates and deletes VMs behind-the-scenes based on what you set
  * Azure Dedicated Host
    * By default, the cloud is multi-tenant, but you can pay Microsoft for a dedicated host of a particular SKU that you can then use to create multiple VMs of the same SKU type, but they can also be different in size





